{"ast":null,"code":"var wishlist = {\n  state: {\n    items: []\n  },\n  reducers: {\n    addProduct: function addProduct(state, product) {\n      var item = state.items.find(function (item) {\n        return item.product.id === product.id;\n      });\n\n      if (item) {\n        item.quantity += 1;\n      } else if (item.quantity >= 1) {\n        item.quantity = 1;\n      } else {\n        state.items.push({\n          product: product,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct: function removeProduct(state, productId) {\n      state.items = state.items.filter(function (item) {\n        return item.product.id !== productId;\n      });\n    },\n    setQuantity: function setQuantity(state, productId, quantity) {\n      if (quantity === 0) {\n        state.items = state.items.filter(function (item) {\n          return item.product.id !== productId;\n        });\n      } else {\n        var item = state.items.find(function (item) {\n          return item.product.id === productId;\n        });\n        item.quantity = quantity;\n      }\n    }\n  }\n};\nexport default wishlist;\nvar STORAGE_KEY = \"wishlist\";\nexport function loadStateFromLocalStorageWishlist() {\n  var storageData = localStorage.getItem(STORAGE_KEY);\n  return JSON.parse(storageData) || wishlist.state;\n}\nexport function saveStateToLocalStorageWishlist(store) {\n  var wishlistState = store.getState().wishlist;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(wishlistState));\n}","map":{"version":3,"sources":["/home/deliciae/Desktop/xmas-shop/src/models/wishlist.js"],"names":["wishlist","state","items","reducers","addProduct","product","item","find","id","quantity","push","removeProduct","productId","filter","setQuantity","STORAGE_KEY","loadStateFromLocalStorageWishlist","storageData","localStorage","getItem","JSON","parse","saveStateToLocalStorageWishlist","store","wishlistState","getState","setItem","stringify"],"mappings":"AAAA,IAAMA,QAAQ,GAAG;AACfC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AADF,GADQ;AAIfC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UADQ,sBACGH,KADH,EACUI,OADV,EACmB;AACzB,UAAMC,IAAI,GAAGL,KAAK,CAACC,KAAN,CAAYK,IAAZ,CAAiB,UAAAD,IAAI;AAAA,eAAIA,IAAI,CAACD,OAAL,CAAaG,EAAb,KAAoBH,OAAO,CAACG,EAAhC;AAAA,OAArB,CAAb;;AAEA,UAAIF,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACG,QAAL,IAAiB,CAAjB;AACD,OAFD,MAEO,IAAIH,IAAI,CAACG,QAAL,IAAiB,CAArB,EAAwB;AAC7BH,QAAAA,IAAI,CAACG,QAAL,GAAgB,CAAhB;AACD,OAFM,MAEA;AACLR,QAAAA,KAAK,CAACC,KAAN,CAAYQ,IAAZ,CAAiB;AACfL,UAAAA,OAAO,EAAEA,OADM;AAEfI,UAAAA,QAAQ,EAAE;AAFK,SAAjB;AAID;AACF,KAdO;AAeRE,IAAAA,aAfQ,yBAeMV,KAfN,EAeaW,SAfb,EAewB;AAC9BX,MAAAA,KAAK,CAACC,KAAN,GAAcD,KAAK,CAACC,KAAN,CAAYW,MAAZ,CAAmB,UAAAP,IAAI;AAAA,eAAIA,IAAI,CAACD,OAAL,CAAaG,EAAb,KAAoBI,SAAxB;AAAA,OAAvB,CAAd;AACD,KAjBO;AAkBRE,IAAAA,WAlBQ,uBAkBIb,KAlBJ,EAkBWW,SAlBX,EAkBsBH,QAlBtB,EAkBgC;AACtC,UAAIA,QAAQ,KAAK,CAAjB,EAAoB;AAClBR,QAAAA,KAAK,CAACC,KAAN,GAAcD,KAAK,CAACC,KAAN,CAAYW,MAAZ,CAAmB,UAAAP,IAAI;AAAA,iBAAIA,IAAI,CAACD,OAAL,CAAaG,EAAb,KAAoBI,SAAxB;AAAA,SAAvB,CAAd;AACD,OAFD,MAEO;AACL,YAAMN,IAAI,GAAGL,KAAK,CAACC,KAAN,CAAYK,IAAZ,CAAiB,UAAAD,IAAI;AAAA,iBAAIA,IAAI,CAACD,OAAL,CAAaG,EAAb,KAAoBI,SAAxB;AAAA,SAArB,CAAb;AACAN,QAAAA,IAAI,CAACG,QAAL,GAAgBA,QAAhB;AACD;AACF;AAzBO;AAJK,CAAjB;AAiCA,eAAeT,QAAf;AAEA,IAAMe,WAAW,GAAG,UAApB;AAEA,OAAO,SAASC,iCAAT,GAA6C;AAClD,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBJ,WAArB,CAApB;AACA,SAAOK,IAAI,CAACC,KAAL,CAAWJ,WAAX,KAA2BjB,QAAQ,CAACC,KAA3C;AACD;AAED,OAAO,SAASqB,+BAAT,CAAyCC,KAAzC,EAAgD;AACrD,MAAMC,aAAa,GAAGD,KAAK,CAACE,QAAN,GAAiBzB,QAAvC;AACAkB,EAAAA,YAAY,CAACQ,OAAb,CAAqBX,WAArB,EAAkCK,IAAI,CAACO,SAAL,CAAeH,aAAf,CAAlC;AACD","sourcesContent":["const wishlist = {\n  state: {\n    items: []\n  },\n  reducers: {\n    addProduct(state, product) {\n      const item = state.items.find(item => item.product.id === product.id);\n\n      if (item) {\n        item.quantity += 1;\n      } else if (item.quantity >= 1) {\n        item.quantity = 1;\n      } else {\n        state.items.push({\n          product: product,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct(state, productId) {\n      state.items = state.items.filter(item => item.product.id !== productId);\n    },\n    setQuantity(state, productId, quantity) {\n      if (quantity === 0) {\n        state.items = state.items.filter(item => item.product.id !== productId);\n      } else {\n        const item = state.items.find(item => item.product.id === productId);\n        item.quantity = quantity;\n      }\n    }\n  }\n};\n\nexport default wishlist;\n\nconst STORAGE_KEY = \"wishlist\";\n\nexport function loadStateFromLocalStorageWishlist() {\n  const storageData = localStorage.getItem(STORAGE_KEY);\n  return JSON.parse(storageData) || wishlist.state;\n}\n\nexport function saveStateToLocalStorageWishlist(store) {\n  const wishlistState = store.getState().wishlist;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(wishlistState));\n}\n"]},"metadata":{},"sourceType":"module"}