{"ast":null,"code":"import qs from \"qs\";\nvar baseUrl = process.env.REACT_APP_API_URL;\n\nfunction checkStatus(response) {\n  if (response.ok) {\n    return response;\n  } else {\n    throw new Error(\"server error\");\n  }\n}\n\nfunction readJson(response) {\n  return response.json();\n}\n\nfunction fetchJSON(url, options) {\n  return fetch(url, options).then(checkStatus).then(readJson);\n} // queryParams = {skip: 1, limit: 1, sort: \"-name\", filter: {categoryId: '1'}}\n// loadProducts({filter: {categoryId: 'ssss'}})\n// ?filter[categoryId]=5c0b84988b3a460063cdbb20\n\n\nexport function loadProducts() {\n  var queryParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return fetchJSON(\"\".concat(baseUrl, \"/products?\").concat(qs.stringify(queryParams)));\n}\nexport function loadProduct(id) {\n  return fetchJSON(\"\".concat(baseUrl, \"/products/\").concat(id));\n}\nexport function loadCategories() {\n  return fetchJSON(\"\".concat(baseUrl, \"/categories\"));\n}\nexport function loadCategory(id) {\n  return fetchJSON(\"\".concat(baseUrl, \"/categories/\").concat(id));\n}","map":{"version":3,"sources":["/home/deliciae/Desktop/xmas-shop/src/libs/api.js"],"names":["qs","baseUrl","process","env","REACT_APP_API_URL","checkStatus","response","ok","Error","readJson","json","fetchJSON","url","options","fetch","then","loadProducts","queryParams","stringify","loadProduct","id","loadCategories","loadCategory"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;AAEA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;;AAEA,SAASC,WAAT,CAAqBC,QAArB,EAA+B;AAC7B,MAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,WAAOD,QAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAIE,KAAJ,CAAU,cAAV,CAAN;AACD;AACF;;AAED,SAASC,QAAT,CAAkBH,QAAlB,EAA4B;AAC1B,SAAOA,QAAQ,CAACI,IAAT,EAAP;AACD;;AAED,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,OAAxB,EAAiC;AAC/B,SAAOC,KAAK,CAACF,GAAD,EAAMC,OAAN,CAAL,CACJE,IADI,CACCV,WADD,EAEJU,IAFI,CAECN,QAFD,CAAP;AAGD,C,CAED;AACA;AACA;;;AACA,OAAO,SAASO,YAAT,GAAwC;AAAA,MAAlBC,WAAkB,uEAAJ,EAAI;AAC7C,SAAON,SAAS,WAAIV,OAAJ,uBAAwBD,EAAE,CAACkB,SAAH,CAAaD,WAAb,CAAxB,EAAhB;AACD;AAED,OAAO,SAASE,WAAT,CAAqBC,EAArB,EAAyB;AAC9B,SAAOT,SAAS,WAAIV,OAAJ,uBAAwBmB,EAAxB,EAAhB;AACD;AAED,OAAO,SAASC,cAAT,GAA0B;AAC/B,SAAOV,SAAS,WAAIV,OAAJ,iBAAhB;AACD;AAED,OAAO,SAASqB,YAAT,CAAsBF,EAAtB,EAA0B;AAC/B,SAAOT,SAAS,WAAIV,OAAJ,yBAA0BmB,EAA1B,EAAhB;AACD","sourcesContent":["import qs from \"qs\";\n\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nfunction checkStatus(response) {\n  if (response.ok) {\n    return response;\n  } else {\n    throw new Error(\"server error\");\n  }\n}\n\nfunction readJson(response) {\n  return response.json();\n}\n\nfunction fetchJSON(url, options) {\n  return fetch(url, options)\n    .then(checkStatus)\n    .then(readJson);\n}\n\n// queryParams = {skip: 1, limit: 1, sort: \"-name\", filter: {categoryId: '1'}}\n// loadProducts({filter: {categoryId: 'ssss'}})\n// ?filter[categoryId]=5c0b84988b3a460063cdbb20\nexport function loadProducts(queryParams = {}) {\n  return fetchJSON(`${baseUrl}/products?${qs.stringify(queryParams)}`);\n}\n\nexport function loadProduct(id) {\n  return fetchJSON(`${baseUrl}/products/${id}`);\n}\n\nexport function loadCategories() {\n  return fetchJSON(`${baseUrl}/categories`);\n}\n\nexport function loadCategory(id) {\n  return fetchJSON(`${baseUrl}/categories/${id}`);\n}\n"]},"metadata":{},"sourceType":"module"}